'use client'

import {motion} from 'framer-motion'
import {scroller} from 'react-scroll'
import {useRouter, usePathname} from 'next/navigation'

const MessageBar: React.FC<{percentageDiscount: string}> = ({
  percentageDiscount,
}) => {
  const router = useRouter()
  const location = usePathname()
  return (
    <div className="h-18 flex w-full flex-col items-center justify-between bg-gradient-to-r from-indigo-500 to-blue-500 px-1 py-2 text-white sm:h-10 sm:flex-row sm:justify-center sm:px-3">
      <div className="flex items-center pb-1 sm:pb-0">
        <div className="mr-1">
          {/* prettier-ignore */}
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 47 47"><motion.path animate={{rotate: [0, 360]}} transition={{ duration: 6, loop: Infinity }} fill="currentColor" d="M17.6220502,25.4146523 C18.391166,25.4146523 19.0317599,25.9982917 19.0777837,26.7809462 C19.3128475,31.717438 19.9793977,36.1509277 20.972795,39.3222486 L21.1629035,39.8993223 C21.9943981,42.3095871 22.9130478,43.5433418 23.4186376,43.5433418 C24.161788,43.5433418 25.458748,41.3200296 26.4051163,37.4692364 C26.5950581,36.7107134 27.3548738,36.243259 28.1089801,36.431778 C28.8677355,36.6214593 29.3353291,37.3812837 29.1470951,38.1342058 L28.9645013,38.8491388 C27.6580303,43.7460833 25.7593343,46.3778917 23.4186874,46.3778917 C21.2580577,46.3778917 19.5560465,44.2829917 18.2391858,40.1328287 C17.1594205,36.6540741 16.4355354,31.8970749 16.2438653,26.8706688 C16.2438653,26.146795 16.7608607,25.5367677 17.471862,25.429258 L17.6220502,25.4146523 Z M23.4186376,0.75 C25.8709437,0.75 27.8380115,3.6384322 29.1467376,8.99244107 C29.3352269,9.74663968 28.8676328,10.5064988 28.1089143,10.6961177 C27.3547297,10.8846035 26.5949214,10.4170292 26.4050022,9.65734431 C25.4589023,5.80771666 24.1618842,3.58430089 23.418787,3.58430089 C22.0643728,3.58430089 20.0925239,8.75208485 19.3351218,16.4413109 L19.2599599,17.2599016 L19.23,17.616 L19.7926763,17.2782919 L20.5597442,16.8416527 C31.2761641,10.8143535 40.9943249,8.40448156 43.1631184,12.1539601 C44.0143067,13.5852025 43.6275321,15.4502849 42.0740674,17.6853678 L41.8966627,17.9352298 L41.7072109,18.1913373 C40.486866,19.7825432 38.6800394,21.5763335 36.3524117,23.5098902 L36.146,23.679 L36.2261829,23.7433301 C41.6771725,28.2018915 44.3875624,32.1575131 43.2354899,34.7931765 L43.1661456,34.9409498 L43.086961,35.0885775 C42.3688747,36.3135578 40.9516465,36.9238959 38.8642281,36.9238959 C37.798727,36.9238959 36.5768032,36.7674909 35.1530534,36.451102 C31.7586828,35.6967707 27.5647926,34.081069 23.2672968,31.8705204 L22.5470553,31.4951428 L22.547,31.478 L22.4993702,31.4498057 L22.4654603,31.4260505 L22.3620651,31.3390383 L22.3090543,31.2875053 L22.223318,31.1836229 L22.1091642,31.0202712 C22.1044637,31.0114007 22.1059576,31.0094968 22.1145375,31.0151818 C22.0859655,30.9889821 22.0556804,30.955332 22.033667,30.9113052 C22.0051484,30.8542679 21.9996663,30.799447 22.0024109,30.7605984 L21.9925604,30.7430693 L21.981,30.713 L21.9578389,30.6732248 L21.9377909,30.616593 L21.929,30.57 L21.9097256,30.5251873 L21.899896,30.4921501 L21.887313,30.4197162 L21.8857008,30.3715599 L21.8857008,30.1381348 L21.9589184,29.9613638 L21.938,29.989 L21.9978218,29.8446512 C21.9714114,29.8710633 21.9635075,29.9026794 21.9635075,29.9047097 C21.9635075,29.7752525 21.9728582,29.7026075 22.0265268,29.6287995 L22.082,29.565 L22.0628445,29.5983895 L22.0506533,29.6280377 L22.0413142,29.6712896 L22.11731,29.4905822 L22.1416611,29.4548054 C22.1679376,29.4153908 22.1845302,29.3914811 22.2023162,29.3702768 L22.23125,29.3388995 L22.256,29.329 L22.2701534,29.2999961 L22.35,29.22 L22.3786903,29.1762938 L22.4227205,29.1326825 L22.4756197,29.0995621 L22.505,29.09 L22.5314332,29.0708946 L22.5567158,29.0571075 L22.566,29.055 L22.5809372,29.0444912 L22.6290676,29.0194964 L22.6817282,28.9826421 C23.4082223,28.6048696 24.1629389,28.1907523 24.9527802,27.7386167 L25.5518548,27.3923604 C26.6373624,26.772076 27.6978824,26.1270891 28.7300198,25.4597356 L29.498748,24.9550633 C30.1544789,24.4866926 31.0574264,24.6643043 31.4814064,25.3244169 C31.9497771,25.9801479 31.7721653,26.8830953 31.1054181,27.3116546 C30.201538,27.9142296 29.2075754,28.5387439 28.1256231,29.1874644 L26.8072956,29.9666995 L26.451,30.159 L26.7722474,30.3095923 C33.7713688,33.5718665 39.5846758,34.6891074 40.6191538,33.6673175 L40.6699802,33.6105325 L40.7115407,33.5496552 C41.282339,32.598487 38.6174957,29.0396354 33.9632468,25.2965651 L33.3834806,24.837474 L33.2743383,24.7767789 C33.2064395,24.7346078 33.1464273,24.6879645 33.0843175,24.6310312 C33.0516444,24.6010812 33.0257057,24.5756666 32.9968689,24.5428102 L32.082657,23.8751507 C30.6100071,22.8105098 29.3691397,21.9718017 28.0090555,21.1386426 C27.3450689,20.784515 27.1200329,19.9666526 27.4488997,19.323725 L27.5170814,19.2053821 C27.893342,18.4998963 28.7931156,18.2899447 29.4665784,18.7228678 C30.9004013,19.6321061 32.2403903,20.5330458 33.4920246,21.4336054 L33.955,21.771 L34.1144526,21.6455496 C38.7665873,17.9301268 41.0460996,14.7642734 40.7604987,13.6994155 L40.7382338,13.632963 L40.7086836,13.5725635 C39.7887099,11.9633453 31.0063654,14.1560051 21.5918824,19.5151674 L21.2098857,19.734164 C11.658033,25.2490012 5.19351227,31.9166787 6.13304082,33.5610834 C6.46108941,34.1761876 9.08746313,34.1983431 12.8795811,33.1288803 C13.6302536,32.8943102 14.3952902,33.312913 14.6321786,34.0710044 C14.8667479,34.8216743 14.4481488,35.5867004 13.6858101,35.8248869 C11.4541973,36.4790041 9.51279468,36.8075519 7.93572478,36.8075519 C5.83896011,36.8075519 4.38925181,36.1922061 3.67429753,34.9725682 C2.18297,32.43755 4.75204208,28.4136131 10.196393,23.8758405 L10.574,23.565 L9.91966614,23.0215298 C5.04948456,18.9236026 2.30588909,15.1956332 3.5127569,12.5076714 L3.58837984,12.3506431 L3.67321217,12.1960479 C4.91396427,10.0447225 8.35034248,9.78902974 13.676124,11.3392367 C14.4372386,11.5295153 14.8698757,12.3351077 14.6360928,13.0818179 C14.4458142,13.8429325 13.6402218,14.2755696 12.8843853,14.0393209 C9.08546301,12.9354183 6.50565648,12.9463432 6.12875487,13.5744744 C5.5974949,14.4912067 7.87638663,17.7764671 12.7608117,21.6832572 L12.918,21.81 L13.1642277,21.6251321 C13.8438229,21.1212468 14.5842336,20.6001606 15.3925737,20.0543089 L15.8857863,19.7237655 L16.29,19.457 L16.3062669,19.1421276 C16.8723847,8.88179436 19.2572462,1.19059834 23.0845928,0.768288037 L23.251907,0.754521294 L23.4186376,0.75 Z" transform="translate(.5)"/></svg>
        </div>
        <span className="text-xs leading-tight">
          Don't miss your chance to{' '}
          <strong className="font-semibold">
            save{' '}
            {percentageDiscount ? (
              percentageDiscount
            ) : (
              <span style={{width: 19}} className="inline-block">
                â€”
              </span>
            )}
            %
          </strong>
          !
        </span>
      </div>
      <button
        className="transform rounded-lg bg-white px-3 py-2 text-xs font-semibold leading-none text-blue-500 transition-all duration-150 ease-in-out hover:scale-105 hover:bg-blue-100 hover:shadow-xl sm:ml-3"
        onClick={() =>
          location !== '/'
            ? router.push('/?buy')
            : scroller.scrollTo('buy', {
                duration: 400,
                smooth: 'easeIn',
                offset: -150,
              })
        }
      >
        Buy Epic React
      </button>
    </div>
  )
}

export default MessageBar
